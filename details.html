<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Detalles de Eventos</title>
  <link rel="icon" href="./Images/favicon.png">
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="./styles.css">
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="#">
      <img src="./Images/amazing_brand.png" alt="Logo" style="height: 40px;">
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item"><a class="nav-link ml-5" href="./index.html">HOME</a></li>
        <li class="nav-item"><a class="nav-link" href="./upcoming-events.html">UPCOMING EVENTS</a></li>
        <li class="nav-item"><a class="nav-link" href="./past-events.html">PAST EVENTS</a></li>
        <li class="nav-item"><a class="nav-link" href="./contact.html">CONTACT</a></li>
        <li class="nav-item"><a class="nav-link" href="./stats.html">STATS</a></li>
      </ul>
    </div>
  </nav>
  
  <!-- Main Content -->
  <div class="container mt-4">
    <div class="row">
      <div class="col-md-4">
        <img id="event-image" src="" class="img-fluid" alt="Event Image">
      </div>
      <div class="col-md-8">
        <h1 id="event-name" class="card-title"></h1>
        <p id="event-id" class="card-text"></p>
        <p id="event-date" class="card-text"></p>
        <p id="event-description" class="card-text"></p>
        <p id="event-category" class="card-text"></p>
        <p id="event-place" class="card-text"></p>
        <p id="event-capacity" class="card-text"></p>
        <p id="event-assistance" class="card-text"></p>
        <p id="event-price" class="card-text"></p>
      </div>
    </div>
    <div class="mt-4">
      <a href="./upcoming-events.html" class="btn btn-primary">Volver a Eventos</a>
    </div>
  </div>

  <!-- Footer -->
  <footer class="text-center mt-4">
    <div class="social-links mb-3">
      <a href="https://www.facebook.com" target="_blank" class="mr-2">
        <img src="./Images/facebook.png" alt="Facebook" style="height: 40px;">
      </a>
      <a href="https://www.whatsapp.com" target="_blank" class="mr-2">
        <img src="./Images/whatsapp.png" alt="WhatsApp" style="height: 40px;">
      </a>
      <a href="https://www.instagram.com" target="_blank">
        <img src="./Images/instagram.png" alt="Instagram" style="height: 40px;">
      </a>
    </div>
    <div class="cohort">COHORT</div>
  </footer>
  
  <!-- Script to dynamically fill event details -->
  <script>
    // Data object
    const data = {
      events: [
        {
          _id: "639c723b992482e5f2834be9",
          name: "Festival of the collectivities",
          image: "https://i.postimg.cc/Fs03hQDt/Fiesta-de-las-colectividades.jpg",
          date: "2022-12-12",
          description: "Enjoy your favorite dishes from different countries in a unique event for the whole family.",
          category: "Food Fair",
          place: "Room A",
          capacity: 45000,
          attendance: 42756,
          price: 5,
        },
        // Otros eventos...
      ],
    };

    // Function to get event ID from URL
    function getEventIdFromURL() {
      const params = new URLSearchParams(window.location.search);
      return params.get("eventId");
    }

    // Function to display event details
    function displayEventDetails(eventId) {
      const event = data.events.find(e => e._id === eventId);

      if (event) {
        document.getElementById('event-image').src = event.image;
        document.getElementById('event-name').textContent = event.name;
        document.getElementById('event-id').textContent = `ID: ${event._id}`;
        document.getElementById('event-date').textContent = `Date: ${event.date}`;
        document.getElementById('event-description').textContent = `Description: ${event.description}`;
        document.getElementById('event-category').textContent = `Category: ${event.category}`;
        document.getElementById('event-place').textContent = `Place: ${event.place}`;
        document.getElementById('event-capacity').textContent = `Capacity: ${event.capacity}`;
        document.getElementById('event-assistance').textContent = `Assistance: ${event.attendance || 'N/A'}`;
        document.getElementById('event-price').textContent = `Price: $${event.price}`;
      } else {
        document.querySelector('.container').innerHTML = '<p class="text-danger">Event not found.</p>';
      }
    }

    // Load event details on page load
    window.onload = function() {
      const eventId = getEventIdFromURL();
      if (eventId) {
        displayEventDetails(eventId);
      } else {
        document.querySelector('.container').innerHTML = '<p class="text-danger">No event ID provided.</p>';
      }
    };
  </script>

  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script src="./details.js"></script>
</body>
</html>
